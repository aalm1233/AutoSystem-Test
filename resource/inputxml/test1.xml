<resources id="User_Service" name="UserService" base="./user">
	<add>
	    <resource id="User_New_Phone" name="createByPhone" path="createByPhone">
			<request>
				<param name="param" type="UserCreateParam" attribute="UserCreateParam">
					<element name="name" attribute="User.name" type="String" level="1">
						<restriction>
							<pattern>^[a-zA-Z0-9_]{3,16}$</pattern>
						</restriction>
					</element>
					<element name="gender" attribute="User.gender" type="Gender" level="1">
						<element level="2"></element>
					</element>
					<element name="phone" attribute="User.phone" type="String"> 
						<restriction>
							<pattern>^1[3|4|5|7|8][0-9]{9}$</pattern>
						</restriction>
					</element>
					<element name="email" attribute="User.email" type="String" level="1">
						<restriction>
							<pattern>^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$</pattern>
						</restriction>
					</element>
					<element name="birthday" attribute="User.birthday" type="Date" level="1"/>
					<element name="portrait" attribute="User.portrait" type="String" level="1"/>
					<element name="status" attribute="User.status" type="UserStatus" level="1">
						<restriction>
							<enumeration>NotActive</enumeration>
							<enumeration>Normal</enumeration>
							<enumeration>Disable</enumeration>
							<enumeration>Deleted</enumeration>
						</restriction >
					</element>
					<element name="creationDate" attribute="User.creationDate" type="Date" level="1"/>
					<element name="updateDate" attribute="User.updateDate" type="Date" level="1"/>
					<element name="password" attribute="User.password" type="String" level="1">
						<restriction>
							<pattern>"^[a-zA-Z]\w{5,17}$"</pattern>
						</restriction>
					</element>
					<element name="toActive" attribute="UserStatus.toActive" type="boolean" level="1">
						<restriction>
							<enumeration>false</enumeration>
						</restriction >
					</element>
					<element name="flag" attribute="User.flag" type="long" level="1">
						<restriction>
							<enumeration>0</enumeration>
						</restriction >
					</element>
				</param>
			</request>
			<response dataType="JSON">
				<param name="rst">
					<element name="" type="" level="1">
						
					</element>
					<element name="" type="UserBasicResultData" level="1">
						<element name="user" type="User" level="2">
							<element name="name" type="String" level="3"/>
							<element name="gender" type="gender" level="3"/>
							<element name="phone" type="String" level="3"/>
							<element name="email" type="String" level="3"/>
							<element name="birthday" type="Date" level="3"/>
							<element name="portrait" type="String" level="3"/>
							<element name="status" type="UserStatus" level="3">
								<element type="String" level="4"/>
							</element>
							<element name="creationDate" type="Date" level="3"/>
							<element name="updateDate" type="Date" level="3"/>
							<element name="password" type="String" level="3"/>
							<element name="permission" type="long" level="3"/>
							<element name="flag" type="long" level="3"/>
							<element name="viaUserId" type="long" level="3"/>
						</element>	
					</element>
				</param>
			</response>
		</resource>
		<resource id="User_New_Get_Phone" name="createOrGetByPhone" path="createOrGetByPhone">
			<request>
				<param name="param" type="UserCreateParam">
					<element name="name" attribute="User.name" type="String" level="1">
						<restriction>
							<pattern>^[a-zA-Z0-9_]{3,16}$</pattern>
						</restriction>
					</element>
					<element name="gender" attribute="User.gender" type="Gender" level="1">
						<element level="2"></element>
					</element>
					<element name="phone" attribute="User.phone" type="String"> 
						<restriction>
							<pattern>^1[3|4|5|7|8][0-9]{9}$</pattern>
						</restriction>
					</element>
					<element name="email" attribute="User.email" type="String" level="1">
						<restriction>
							<pattern>^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$</pattern>
						</restriction>
					</element>
					<element name="birthday" attribute="User.birthday" type="Date" level="1"/>
					<element name="portrait" attribute="User.portrait" type="String" level="1"/>
					<element name="status" attribute="User.status" type="UserStatus" level="1">
						<restriction>
							<enumeration>NotActive</enumeration>
							<enumeration>Normal</enumeration>
							<enumeration>Disable</enumeration>
							<enumeration>Deleted</enumeration>
						</restriction >
					</element>
					<element name="creationDate" attribute="User.creationDate" type="Date" level="1"/>
					<element name="updateDate" attribute="User.updateDate" type="Date" level="1"/>
					<element name="password" attribute="User.password" type="String" level="1">
						<restriction>
							<pattern>"^[a-zA-Z]\w{5,17}$"</pattern>
						</restriction>
					</element>
					<element name="toActive" attribute="UserStatus.toActive" type="boolean" level="1">
						<restriction>
							<enumeration>false</enumeration>
						</restriction >
					</element>
					<element name="flag" attribute="User.flag" type="long" level="1">
						<restriction>
							<enumeration>0</enumeration>
						</restriction >
					</element>
				</param>
			</request>
			<response dataType="JSON">
				<param name="rst">
					<element name="" type="" level="1">
						
					</element>
					<element name="" type="UserBasicResultData" level="1">
						<element name="user" type="User" level="2">
							<element name="name" type="String" level="3"/>
							<element name="gender" type="gender" level="3"/>
							<element name="phone" type="String" level="3"/>
							<element name="email" type="String" level="3"/>
							<element name="birthday" type="Date" level="3"/>
							<element name="portrait" type="String" level="3"/>
							<element name="status" type="UserStatus" level="3">
								<element type="String" level="4"/>
							</element>
							<element name="creationDate" type="Date" level="3"/>
							<element name="updateDate" type="Date" level="3"/>
							<element name="password" type="String" level="3"/>
							<element name="permission" type="long" level="3"/>
							<element name="flag" type="long" level="3"/>
							<element name="viaUserId" type="long" level="3"/>
						</element>	
					</element>
				</param>
			</response>
		</resource>
		<resource id="User_New_Email" name="createByEmail" path="createByEmail">
			<request>
				<param name="param" type="UserCreateParam">
					<element name="name" attribute="User.name" type="String" level="1">
						<restriction>
							<pattern>^[a-zA-Z0-9_]{3,16}$</pattern>
						</restriction>
					</element>
					<element name="gender" attribute="User.gender" type="Gender" level="1">
						<element level="2"></element>
					</element>
					<element name="phone" attribute="User.phone" type="String"> 
						<restriction>
							<pattern>^1[3|4|5|7|8][0-9]{9}$</pattern>
						</restriction>
					</element>
					<element name="email" attribute="User.email" type="String" level="1">
						<restriction>
							<pattern>^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$</pattern>
						</restriction>
					</element>
					<element name="birthday" attribute="User.birthday" type="Date" level="1"/>
					<element name="portrait" attribute="User.portrait" type="String" level="1"/>
					<element name="status" attribute="User.status" type="UserStatus" level="1">
						<restriction>
							<enumeration>NotActive</enumeration>
							<enumeration>Normal</enumeration>
							<enumeration>Disable</enumeration>
							<enumeration>Deleted</enumeration>
						</restriction >
					</element>
					<element name="creationDate" attribute="User.creationDate" type="Date" level="1"/>
					<element name="updateDate" attribute="User.updateDate" type="Date" level="1"/>
					<element name="password" attribute="User.password" type="String" level="1">
						<restriction>
							<pattern>"^[a-zA-Z]\w{5,17}$"</pattern>
						</restriction>
					</element>
					<element name="toActive" attribute="UserStatus.toActive" type="boolean" level="1">
						<restriction>
							<enumeration>false</enumeration>
						</restriction >
					</element>
					<element name="flag" attribute="User.flag" type="long" level="1">
						<restriction>
							<enumeration>0</enumeration>
						</restriction >
					</element>
				</param>
			</request>
			<response dataType="JSON">
				<param name="rst">
					<element name="" type="" level="1">
						
					</element>
					<element name="" type="UserBasicResultData" level="1">
						<element name="user" type="User" level="2">
							<element name="name" type="String" level="3"/>
							<element name="gender" type="gender" level="3"/>
							<element name="phone" type="String" level="3"/>
							<element name="email" type="String" level="3"/>
							<element name="birthday" type="Date" level="3"/>
							<element name="portrait" type="String" level="3"/>
							<element name="status" type="UserStatus" level="3">
								<element type="String" level="4"/>
							</element>
							<element name="creationDate" type="Date" level="3"/>
							<element name="updateDate" type="Date" level="3"/>
							<element name="password" type="String" level="3"/>
							<element name="permission" type="long" level="3"/>
							<element name="flag" type="long" level="3"/>
							<element name="viaUserId" type="long" level="3"/>
						</element>	
					</element>
				</param>
			</response>
		</resource>
	</add>
	<update>
		<resource id="Password_Change" name="changePassword" path="changePassword">
			<request>
				<param name="param" type="UserPasswordChangeParam">
					<element name="userId" attribute="User.viaUserId" type="Long" location="true" level="1"/>
					<element name="loginName" attribute="User.name" type="Long" location="true" level="1"/>
					<element name="oldPassword" attribute="User.password" type="String" location="true" level="1">
						<restriction>
							<pattern>"^[a-zA-Z]\w{5,17}$"</pattern>
						</restriction>
					</element>
					<element name="password" attribute="User.password" type="String" level="1">
						<restriction>
							<pattern>"^[a-zA-Z]\w{5,17}$"</pattern>
						</restriction>
					</element>
				</param>	
			</request>
			<response dataType="">
				<param name="" type="" />
			</response>
		</resource>
		<resource id="Password_Update" name="updatePassword" path="updatePassword">
			<request>
				<param name="param" type="UserPasswordUpdateParam">
					<element name="userId" attribute="User.viaUserId" type="Long" location="true" level="1"/>
					<element name="password" attribute="User.password" type="String" level="1">
						<restriction>
							<pattern>"^[a-zA-Z]\w{5,17}$"</pattern>
						</restriction>
					</element>
				</param>	
			</request>
			<response dataType="">
				<param name="" type="" />
			</response>
		</resource>
		<resource id="Email_Bind" name="bindEmail" path="bindEmail">
			<request>
				<param name="param" type="UserBindEmailParam">
					<element name="userId" attribute="User.viaUserId" type="Long" location="true" level="1"/>
					<element name="email" attribute="User.email" type="String" location="true" level="1"/>
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
		<resource id="Phone_Bind" name="bindPhone" path="bindPhone">
			<request>
				<param name="param" type="UserBindPhoneParam">
					<element name="userId" attribute="User.viaUserId" type="Long" location="true" level="1"/>
					<element name="phone" attribute="User.phone" type="String" location="true" level="1"/>
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
		<resource id="User_Update_ID" name="update" path="update">
			<request>
				<param name="param" type="UserUpdateParam">
					<element name="id" attribute="User.viaUserId" type="Long" location="true" level="1"/>
					<element name="name" attribute="User.name" type="String" level="1"/>
					<element name="gender" attribute="User.gender" type="Gender" level="1"/>
					<element name="birthday" attribute="User.birthday" type="Date" level="1"/>
					<element name="portrait" attribute="User.portrait" type="String" level="1"/>
					<element name="portrait" attribute="User.portrait" type="String" level="1">
						<restriction>
							<enumeration>NotActive</enumeration>
							<enumeration>Normal</enumeration>
							<enumeration>Disable</enumeration>
							<enumeration>Deleted</enumeration>
						</restriction >
					</element>
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
		<resource id="User_Active_ID" name="active" path="active">
			<request>
				<param name="param" type="IDParam">
					<element />
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
		<resource id="User_Disable_ID" name="disable" path="disable">
			<request>
				<param name="param" type="IDParam">
					<element />
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
	</update>
	<find>
		<resource id="User_Detail_ID" name="detail" path="detail">
			<request>
				<param name="param" type="IDParam">
					<element name="" attribute="" type="Long" location="true" level="1"/>
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
		<resource id="User_Detail_Batch_ID" name="batchDetail" path="batchDetail">
			<request>
				<param name="param" type="IDListParam">
					<element name="" attribute="" type="Long" location="true" level="1"/>
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
		<resource id="User_List" name="list" path="list">
			<request>
				<param name="param" type="UserListParam">
					<element name="search" type="UserListSearchCriteria" level="1">
						<element name="name" attribute="User.name" type="String" level="2">
							<restriction>
								<pattern>^[a-zA-Z0-9_]{3,16}$</pattern>
							</restriction>
						</element>
						<element name="gender" attribute="User.gender" type="Gender" level="2">
							<element level="2"></element>
						</element>
						<element name="phone" attribute="User.phone" type="String" level="2"> 
							<restriction>
								<pattern>^1[3|4|5|7|8][0-9]{9}$</pattern>
							</restriction>
						</element>
						<element name="email" attribute="User.email" type="String" level="2">
							<restriction>
								<pattern>^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$</pattern>
							</restriction>
						</element>
						<element name="birthdayMax" attribute="User.birthday" type="Date" level="2"/>
						<element name="birthdayMin" attribute="User.birthday" type="Date" level="2"/>
						<element name="portrait" attribute="User.portrait" type="String" level="2"/>
						<element name="status" attribute="User.status" type="UserStatus" level="2">
							<restriction>
								<enumeration>NotActive</enumeration>
								<enumeration>Normal</enumeration>
								<enumeration>Disable</enumeration>
								<enumeration>Deleted</enumeration>
							</restriction >
						</element>
						<element name="creationDateMax" attribute="User.creationDate" type="Date" level="2"/>
						<element name="creationDateMin" attribute="User.creationDate" type="Date" level="2"/>
						<element name="updateDateMax" attribute="User.updateDate" type="Date" level="2"/>
						<element name="updateDateMin" attribute="User.updateDate" type="Date" level="2"/>
						<element name="permission" attribute="User.permission" type="String" level="2"/>
					</element>
				</param>
			</request>
			<response dataType="">
				<param name="" type=""/>
			</response>
		</resource>
	</find>
</resources>